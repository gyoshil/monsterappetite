<template name="page">
  <div id="main" >
    {{> overlay }}
    <div class="row">
      <div class="col-md-6">
        {{> board }}
      </div>
      <div class="col-md-6">
        {{> lobby }}
        {{> postgame }}
        {{> scores }}
      </div>
    </div>
  </div>
<script src="js/jquery.2-1-3.min.js"></script>
<script src="js/jquery.easing.min.js"></script>
</template>

<template name="overlay">
    {{#if show }}
  <!---<div class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">-->
        <div class="alert alert-success" role="alert" align="center">
          <h2>{{ text }}</h2>
        </div>
      <!---</div>
    </div>
  </div> -->
    {{/if}}
</template>

<template name="board">
  <div id="clock">
    {{ clock }}
  </div>
  <div id="instructions">
    <!---INSTRUCTIONS-->
    <p align="center"> <em> After you click the "Play Solo" button, you will have 35 seconds to choose the <strong> top 3 {{group_aim}} </strong>
      food items </em> to feed your monster.
    </p>
  </div>
  <div id="board" style="background-color:{{bkgd}}">
      {{#each cardSet}}
      <div id="card_{{@index}}" class="square {{ selected @index }}">
        <img src={{getImage}} style="margin-top:2%;width:95%;height:95%">
        {{#if selected @index}}<h2 class="square-text">{{calories}}</h2> {{/if}}
      </div>
      {{/each}}
  </div>
</template>

<template name="lobby">
  <div>
    {{#if show }}
    <div id="lobby">
      <img src="imgs/splash.png" style="width:500px" align="center">
      <h1>Welcome to the feast,</h1>
      <h1> {{username}}</h1>
      <!-- <input id="myname" type="text" /> -->
      {{#if count}}
      <h1>{{count}} other players are in the lobby:</h1>
      {{#each waiting }}
      <div class="player">{{name}}</div>
      {{/each}}
      {{/if}}
      <div>
        <button id="startgame" class="startgame" {{disabled}}>
          {{#if count}} It's on! {{else}} Play solo {{/if}}
        </button><br><br>
      </div>
          <button>
            <a href="biq">I'm done playing</a>
          </button>
    </div>
    {{/if}}
  </div>
</template>


<template name="postgame">
  <!--ODOMETER DIV is here
  <div id="odometer" class="odometer">0</div>-->
  <div>
  {{#if inGame}}
    <div id="postgame">
      {{onRedraw}}
      {{#if finishedGame}}
        <button name="backtolobby" class="lobby">Return to Lobby</button>
      {{else}}
        {{#if endOfRound}}
          <button name="backtolobby" class="lobby">Next Round</button>
        {{else}}
         <button style="visibility:hidden;"></button>
        {{/if}}
      {{/if}}

    </div>
  {{/if}}
  </div>
</template>




<template name="scores">
  <div>
    {{#if show}}
    <div id="scores">
      {{#each players}}
        {{> player }}
      {{/each}}
    </div>
    {{/if}}
  </div>
</template>

<template name="player">
  <div class="player">
    <img src={{ random_monster }} align="right" style="width:{{monster_size}}; height:{{monster_size}}; margin-bottom:10px" >
    <div class="header {{winner}}">
      {{#if name}}
        {{name}}
      {{else}}
        <span class="unnamed">no name</span>
      {{/if}}
      <span id="total_score" class="score">{{total_score}}</span>
      {{#if winner}}
        <span class="winner_text">WINNER</span>
      {{/if}}
    </div>
    <div id="cards">
    <div class="row">
      {{#each cards}}
        {{> card}}
      {{/each}}
    </div>
    </div>
  </div>
</template>

<!-- Somehow this helps display monsters, food cards, the user name entering box, etc. -->
<template name="card">
    <div class="block">
      <p> {{card_name}},<h2><em><strong>{{calories}}</strong></em></h2> </p>
    </div>
</template>
